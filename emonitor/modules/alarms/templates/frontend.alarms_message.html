<div style="padding:0px 5px;">

    <div style="height:150;clear:left;">
        <form>
            <h4>{{ _('alarms.addmessage') }}</h4>
            <div style="width:235px;float:left;padding:0px!important;margin:0px!important;position:relative;">
                {{ _('alarms.messagetype') }}:<br/>
                <select name="messagestate" style="width:200px;">
                    <option>---</option>
                    {% for messagestate in messagestates %}
                    <option value="{{ messagestate }}">{{ _('history.'+messagestate) }}</option>
                    {% endfor %}
                </select>
                <br/>
                <br/>
                <button name="action"><i class="fa fa-check"></i> {{ _('alarms.save') }}</button>
            </div>
            <div style="width:350px;float:left;padding:0px!important;margin:0px!important;position:relative;">

                {{ _('alarms.messagetext') }}:<br/>
                <textarea name="messagetext" style="width:100%;height:60px;"></textarea>
            </div>
        </form>
    </div>

    <div style="height:250px">
        <h4>{{ _('alarms.messagetitles') }}</h4>

        <div style="height:220px;border:1px solid silver;display:block;overflow:auto;">
        {% for message in alarm.history|sort(reverse=True, attribute='timestamp') %}
            <div>{{ message.timestamp|datetime }}: {{ message.name }} <em>{{ message.value }}</em></div>
        {% endfor %}
        </div>
    </div>
</div>
