(function(c,e,g,a){var d="kenburnsy",b={fullscreen:false,duration:9000,fadeInDuration:1500,height:null};var f={zoomOut:function(j,k){c(j).velocity({rotateZ:"5deg",scale:"2.0"},0).velocity({translateZ:0,rotateZ:"0deg",scale:"1"},k)},zoomIn:function(j,k){c(j).velocity({rotateZ:"0deg",scale:"1"},0).velocity({translateZ:0,rotateZ:"5deg",scale:"2.0"},k)}};var i=function(k){var j=function(m){var p=new Image();p.onload=n;p.onerror=o;p.onabort=o;p.src=k;function n(){l();setTimeout(function(){m.resolve(p)})}function o(){l();m.rejectWith(p)}function l(){p.onload=null;p.onerror=null;p.onabort=null}};return c.Deferred(j).promise()};if(!Object.keys){Object.keys=function(m){if(m!==Object(m)){throw new TypeError("Object.keys called on a non-object")}var j=[],l;for(l in m){if(Object.prototype.hasOwnProperty.call(m,l)){j.push(l)}}return j}}function h(k,j){this.el=k;this.$el=c(k);this.settings=c.extend({},b,j);this._defaults=b;this._name=d;this._slides=[];this.currentIndex=0;this.init()}c.extend(h.prototype,{init:function(){var j=this.settings,l=this,k;k=this.$el.children().map(function(m,n){return n.src});this.$el.addClass(function(){var m=[d];if(j.fullscreen){m.push("fullscreen")}return m.join(" ")});c.when.apply(c,c.map(k,i)).done(function(){var m=Array.prototype.slice.call(arguments);l.buildScene(m)})},reveal:function(k){var j=this._slides[k],l=this.$el;c(j).velocity({opacity:0},0,function(){c(this).appendTo(l)}).velocity({opacity:1,translateZ:0},{duration:this.settings.fadeInDuration,queue:false})},animate:function(k){var l=Object.keys(f),n=f[l[Math.floor(l.length*Math.random())]],m=this.settings.duration,j=this._slides[k];n(j,m)},show:function(j){this.reveal(j);this.animate(j)},next:function(){this.currentIndex=this.currentIndex===0?this._slides.length-1:this.currentIndex-1;this.show(this.currentIndex)},addSlides:function(j){var k=this.el;return c.map(j.reverse(),function(m){var l=g.createElement("div");l.style.backgroundImage="url("+m.src+")";l.className="slide";k.appendChild(l);return l})},buildScene:function(j){var l=this,k=this.settings;this.el.innerHTML="";this._slides=this.addSlides(j);this.currentIndex=j.length-1;if(!k.fullscreen){this.el.style.height=this.settings.height||(j[this.currentIndex].height+"px")}this.animate(this.currentIndex);setInterval(function(){l.next()},(k.duration-k.fadeInDuration))}});c.fn[d]=function(j){this.each(function(){if(!c.data(this,"plugin_"+d)){c.data(this,"plugin_"+d,new h(this,j))}});return this}})(jQuery,window,document);